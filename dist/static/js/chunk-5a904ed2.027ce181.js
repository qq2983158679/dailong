(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a904ed2"],{4238:function(e,t,o){"use strict";o("50b7")},"50b7":function(e,t,o){},"54cc":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{position:"relative"}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{prop:"id",label:"id",width:"200"}}),o("el-table-column",{attrs:{prop:"role",label:"权限"}}),o("el-table-column",{attrs:{prop:"name",label:"姓名",width:"200"}}),o("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"300"}}),o("el-table-column",{attrs:{prop:"password",label:"密码"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isAdmin,expression:"isAdmin"}],attrs:{size:"mini"},on:{click:function(o){return e.handleEdit(t.row)}}},[e._v("编辑")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isAdmin,expression:"isAdmin"}],attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),o("div",{ref:"modifyForm",staticClass:"modify"},[o("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[o("span",{staticClass:"modifyTitle"},[e._v("修改用户界面")]),o("el-form",{ref:"modifyFrom",attrs:{"label-position":"right","label-width":"80px",rules:e.rules,model:e.modifyFrom}},[o("el-form-item",{attrs:{label:"邮箱:"}},[o("p",[e._v(e._s(e.modifyFrom.email))])]),o("el-form-item",{attrs:{label:"用户名",prop:"name"}},[o("el-input",{attrs:{placeholder:e.modifyFrom.name},model:{value:e.modifyFrom.name,callback:function(t){e.$set(e.modifyFrom,"name","string"===typeof t?t.trim():t)},expression:"modifyFrom.name"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",placeholder:e.modifyFrom.password},model:{value:e.modifyFrom.password,callback:function(t){e.$set(e.modifyFrom,"password",t)},expression:"modifyFrom.password"}})],1),o("el-form-item",[o("el-radio",{attrs:{label:"admin"},model:{value:e.modifyFrom.role,callback:function(t){e.$set(e.modifyFrom,"role",t)},expression:"modifyFrom.role"}},[e._v("管理员")]),o("el-radio",{attrs:{label:"normal"},model:{value:e.modifyFrom.role,callback:function(t){e.$set(e.modifyFrom,"role",t)},expression:"modifyFrom.role"}},[e._v("普通用户")])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm(e.modifyFrom)}}},[e._v("提交")]),o("el-button",{on:{click:e.offForm}},[e._v("取消")])],1)],1)],1)],1)],1)},a=[],s={mounted:function(){var e=this;this.$http({type:"get",url:"http://localhost:3001/user"}).then((function(t){e.tableData=t.data})),"admin"===this.$store.state.user.role?this.isAdmin=!0:this.isAdmin=!1},name:"",data:function(){return{isAdmin:!1,tableData:[],rules:{name:[{max:10,min:2,message:"用户名3~10位数哦 !",trigger:"blur"}],password:[{min:6,max:18,message:"请输入6~18位数的密码哦 !",trigger:"blur"}]},modifyFrom:{id:null,role:"",name:"",email:"",password:""}}},methods:{handleEdit:function(e){this.$refs.modifyForm.style.transform="translateY(0)",this.modifyFrom=e,console.log(e)},offForm:function(){this.$refs.modifyForm.style.transform="translateY(-500%)"},handleDelete:function(e,t){var o=this;this.$confirm("是否确定删除这个用户 !!!","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o.$http({method:"delete",url:"/user/"+t.id}).then((function(e){console.log(e)})),o.$router.go(0),o.$message({type:"success",message:"删除成功!"})})).catch((function(){o.$message({type:"warning",message:"已取消删除"})}))},submitForm:function(e){var t=this;this.$refs.modifyFrom.validate((function(o){if(!o)return t.$message.error("用户名或者密码格式错误 !"),!1;t.$http({method:"put",url:"http://localhost:3001/user/"+e.id,data:e}).then((function(e){t.$message({message:"修改成功 !",type:"success"}),t.$router.go(0)}))}))}},components:{}},i=s,l=(o("4238"),o("2877")),n=Object(l["a"])(i,r,a,!1,null,"2a8d13b0",null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-5a904ed2.027ce181.js.map